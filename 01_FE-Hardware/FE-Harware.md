# 计算机硬件核心：构造与性能衡量 学习笔记

## 1. 计算机硬件基础

### 1.1 计算机两大核心：硬件与软件

要理解计算机是如何工作的，首先需要区分它的两个基本组成部分：**硬件 (ハードウェア)** 和 **软件 (ソフトウェア)**。

我们可以用一个简单的类比来理解：

* 硬件是计算机的“身体”，是所有看得见、摸得着的物理部件。例如，键盘、鼠标、显示器等。
* 软件是计算机的“思想”和“灵魂”，是指导硬件如何工作的无形指令和程序。例如，我们常用的Excel、PowerPoint等应用程序。

本学习笔记将聚焦于计算机的“身体”——硬件部分，系统地解析其核心构成与工作原理。

### 1.2 计算机硬件的五大基本装置

计算机的硬件系统由五个基本部分协同工作，通常被称为“五大装置” (五大装置)。

* **控制装置 (制御（せいぎょ）装置)** 作为计算机的“指挥中心”，负责解读程序的指令，并向其他所有装置发出控制信号，指挥整个计算机协调运作。
* **运算装置 (演算装置)** 作为计算机的“计算核心”，负责执行所有的算术运算（如加减乘除）和逻辑运算（如比较判断）。
* **存储装置 (記憶装置)** 作为计算机的“记忆库”，负责存储程序和数据。它分为临时存储和长期存储两种。
* **输入装置 (入力装置)** 作为计算机接收外部信息的“感官”，负责将我们（或外部世界）的信息输入到计算机内部。例如：鼠标、键盘。
* **输出装置 (出力装置)** 作为计算机展示处理结果的“表达方式”，负责将计算机内部处理完毕的信息呈现给我们。例如：显示器、打印机。

> **关键洞察**
> 在现代计算机中，控制装置和运算装置这两个功能高度集成的部件，被整合在一块芯片上，我们称之为中央处理器 (CPU)。CPU是整个计算机处理和控制的中枢，被形象地誉为“计算机的大脑”。

### 1.3 冯·诺依曼结构的两大核心思想

我们现在使用的大部分计算机都遵循一种被称为“冯·诺依曼计算机” (ノイマン型コンピュータ) 的基本体系结构。这种结构有两个奠定现代计算机基础的核心思想：

1. **程序存储方式 (プログラム内蔵方式)**
    这个思想指出，程序和数据都应该以同样的方式存储在主存储器中。CPU在执行任务时，会根据需要从主存储器中读取指令和数据。这意味着计算机可以通过加载不同的程序来执行不同的任务，这是现代计算机通用性的基础。

2. **逐次控制方式 (逐次（ちくじ）制御方式)**
    这个思想定义了CPU执行程序的基本流程，即CPU从主存储器中一条一条地取出指令，并按照顺序依次执行。这是计算机最基本、最核心的工作模式。

*学习过渡：理解了计算机的整体构成后，我们将首先深入探讨其核心——CPU的工作原理。*

## 2. 中央处理器 (CPU) 深度解析

### 2.1 内部构造与寄存器

我们已经知道，CPU由控制装置和运算装置构成。在CPU内部，还有一种至关重要的临时存储单元——**寄存器 (レジスタ)**。它的作用是在CPU处理指令的极短时间内，暂时存放指令、数据和计算结果。

以下是三种在指令执行过程中扮演关键角色的寄存器：

| 寄存器类型 | 日文名称 | 核心功能 |
| :--- | :--- | :--- |
| 程序计数器 | プログラムカウンタ | 存放下一条要执行的指令所在内存的**地址**。 |
| 指令寄存器 | 命令レジスタ | 存放从内存中取出的当前**指令本身**。 |
| 通用寄存器 | 汎用レジスタ | 用于多种目的，如存放运算数据或运算结果。 |

> **关键洞察**
> 寄存器的最大特点是容量极小但速度超快。它是计算机存储体系中速度最快的部件，直接服务于CPU的高速运算。

### 2.2 指令执行步骤

![CPU指令执行的四个步骤](Image/Command-Workflow.png)

### 2.3 地址指定方式 (アドレス指定方式)

“地址指定方式”指的是指令的**操作数部分 (オペランド部)** 用来指定操作数据位置的不同方法。选择合适的方式可以提高程序效率和灵活性。

| 方式名称 | 日文名称 | 原理说明 | 生活类比（拿东西） |
| :--- | :--- | :--- | :--- |
| **立即寻址** | 即時（そくじ）アドレス指定方式 | 操作数部分直接包含数据本身。 | 这就是你要的东西，直接给你。 |
| **直接寻址** | 直接アドレス指定方式 | 操作数部分是数据所在的内存地址。 | 东西在 101 号房，你自己去拿。 |
| **间接寻址** | 間接（かんせつ）アドレス指定方式 | 操作数是存放数据地址的地址。 | 去 101 号房看纸条，上面写着东西在 202 号房。 |
| **变址寻址** | インデックス指定方式 | 操作数地址与变址寄存器的值相加。 | 去基准房号 + 你的工号）那个房间拿东西。 |
| **基址寻址** | ベースアドレス指定方式 | 操作数地址与基址寄存器的值相加。 | 从这排宿舍的开头往后数第 N 个房间拿东西。 |
| **相对寻址** | 相対（そうたい）アドレス指定方式 | 操作数地址与程序计数器的值相加。 | 从你现在站的位置，往前/后走 N 个房间。 |

### 2.4 衡量CPU性能的关键指标

* **时钟频率 (クロック周波数(しゅうはすう))**
    它代表CPU内部时钟信号每秒钟振荡的次数，单位是赫兹 (Hz)。每个时钟周期 (クロック) CPU可以执行一个基本动作。频率越高，意味着CPU每秒能执行的基本动作越多，速度通常越快。
* **CPI (Cycles Per Instruction)**
    它代表执行一条指令平均需要多少个时钟周期。这个值越小，说明CPU执行指令的效率越高。
* **MIPS (Million Instructions Per Second)**
    它代表CPU每秒可以执行多少百万条指令。这是一个综合性能指标，它同时考虑了时钟频率和CPI。

> **关键洞察**
> 单一指标无法完全衡量CPU性能。例如，一个时钟频率很高的CPU，如果它的CPI也很高（即每条指令需要很多周期），其综合性能（MIPS）可能并不出色。因此，必须结合多个指标进行综合评估。

### 2.5 性能提升与高速化技术

为了打破“逐次控制方式”一次只能处理一条指令的瓶颈，现代CPU采用了多种高速化技术。

**流水线处理 (パイプライン方式)** 是最核心的技术。它将一条指令的执行过程（如取指、解码、执行）划分为多个阶段，让不同指令的不同阶段并行处理，就像工厂的流水线一样，极大地提高了CPU的吞吐率。

* **超级流水线 (スーパーパイプライン)**: 将流水线的各个阶段划分得更细，进一步提高并行处理的深度。
* **超标量 (スーパースカラ)**: 在CPU内部设置多条并行的流水线，使得CPU在一个时钟周期内可以同时执行多条指令。

此外，CPU的设计思想也影响其性能，主要分为两类：

| 设计思想 | 全称 | 核心特点 |
| :--- | :--- | :--- |
| CISC | Complex Instruction Set Computer | 使用一条复杂的指令完成多个操作（可想象成“聪明的CPU”），指令集功能强大，但指令长度不一，执行周期长。 |
| RISC | Reduced Instruction Set Computer | 指令简单、长度固定、功能单一（可想象成“强力的CPU”），执行周期短，非常易于实现高效的流水线处理。 |

*学习过渡：CPU的性能再高，也需要与存储器高效协作。接下来，我们来学习计算机的记忆系统——存储装置。*

## 3. 存储装置 (記憶装置) 完全指南

### 3.1 存储器层级：主存与辅存

存储装置分为**主存储器 (主記憶装置)** 和 **辅助存储器 (補助記憶装置)** 两大类，它们在计算机中扮演不同角色。

| 特性 | 主存储器 (主記憶装置) | 辅助存储器 (補助記憶装置) |
| :--- | :--- | :--- |
| 作用 | 临时存放CPU正在处理的程序和数据 | 长期保存数据和程序 |
| 速度 | 读写速度快 | 读写速度慢 |
| 容量 | 容量小 | 容量大 |
| 典型代表 | 内存 (メモリ) | 硬盘 (HDD), 固态硬盘 (SSD) |

### 3.2 内存 (メモリ) 的分类与特性对比

主存储器可分为两大类：RAM (ラム) 和 ROM (ロム)。它们在计算机中的物理表现截然不同：

* **RAM (随机存取存储器)**:
  * **物理表现**：就是我们平时插在主板上的**内存条**。
  * **特性**：数据可读可写，但断电后数据会丢失（易失性）。
  * **用途**：作为 CPU 的“临时工地”，存放当前运行的程序和数据。
* **ROM (只读存储器)**:
  * **物理表现**：通常是焊接在主板上的一个小芯片，最典型的是 **BIOS/UEFI 芯片**。
  * **特性**：通常只能读取，断电后数据不会丢失（非易失性）。
  * **用途**：存放计算机的“启动说明书”。

在RAM中，最重要的两种类型是 DRAM 和 SRAM，它们的特性对比是考试的重点。

| 特性 | DRAM (ディーラム) | SRAM (エスラム) |
| :--- | :--- | :--- |
| 数据保持 | 需要定期刷新 (リフレッシュ) 来维持数据 | 通电期间持续保持数据，无需刷新 |
| 速度 | 较慢 | 非常快 |
| 集成度 | 高 (结构简单，单位面积可存储更多数据) | 低 (结构复杂) |
| 成本 | 低 | 高 |
| 主要用途 | 主存储器 (主記憶装置) | 缓存 (キャッシュメモリ) |
| 物理位置 | 内存条 (主板插槽) | CPU 内部 (集成在芯片中) |

另外，闪存 (フラッシュメモリ) 是EEPROM的一种，它兼具ROM的非易失性和类似RAM的可擦写特性，常用于USB盘和固态硬盘 (SSD) 中。

### 3.3 缓存 (Cache) 高速化技术

为了弥合高速CPU与相对较慢的主存之间的速度差距，计算机引入了**缓存 (キャッシュメモリ)**。它是一种位于CPU和主存之间的高速小容量存储器（通常用SRAM实现）。

* **命中率 (ヒット率)**: 指CPU需要的数据恰好在缓存中被找到的概率。命中率越高，系统性能提升越明显。
* **有效访问时间 (実行アクセス時間)** 的计算公式如下：
    `有效访问时间 = (缓存访问时间 × 命中率) + (主存访问时间 × (1 - 命中率))`

当CPU写入数据时，为了保证缓存和主存数据的一致性，主要有两种写入策略：

| 策略名称 | 日文名称 | 工作方式 | 优点/缺点 |
| :--- | :--- | :--- | :--- |
| 写直通 | ライトスルー方式 | 同时向缓存和主存写入数据。 | 数据一致性好，但每次写入都要访问慢速的主存，速度较慢。 |
| 写回 | ライトバック方式 | 只向缓存写入数据，直到该数据被替换出缓存时，才一次性写回主存。 | 写入速度快，但数据一致性的管理较为复杂。 |

> **关键洞察**
> 缓存技术是现代计算机性能提升的关键。它利用了程序运行时访问数据和指令时倾向于集中在某个小范围内的局部性原理，实现了“用主存的价格和容量，获得接近缓存的速度”的性能目标。

### 3.4 辅助存储器与 RAID 技术

硬盘驱动器 (HDD) 和 固态硬盘 (SSD) 是目前最主流的两种辅助存储器。

| 特性 | 硬盘驱动器 (HDD) | 固态硬盘 (SSD) |
| :--- | :--- | :--- |
| 工作原理 | 机械式，磁头在高速旋转的盘片上读写数据。 | 电子式，基于闪存芯片进行数据读写。 |
| 读写速度 | 慢 | 快 |
| 抗震性 | 差，对冲击和振动敏感。 | 好，无机械运动部件。 |
| 价格 | 单位容量价格低 | 单位容量价格高 |

* **HDD的物理结构**
  * **磁道 (トラック)**: 盘片上一圈圈的同心圆。
  * **扇区 (セクタ)**: 磁道上被划分出的小段，是数据读写的最小单位。
  * **柱面 (シリンダ)**: 所有盘片上半径相同的磁道构成的虚拟圆柱体。
![HDD的物理结构](Image/HDD.png)

* **HDD的访问时间 (アクセス時間)**
    它由三部分构成：`访问时间 = 寻道时间 (シーク時間) + 旋转等待时间 (回転待ち時間) + 数据传输时间 (データ転送時間)`

* **RAID (レイド)**
    这是一种通过将多个独立的硬盘组合起来，以提高性能或可靠性的技术。

| RAID级别 | 名称 | 核心思想 | 优点 |
| :--- | :--- | :--- | :--- |
| RAID 0 | 条带化 (ストライピング) | 数据被分块，并行地写入多个磁盘。例如，数据1和2写入磁盘A，数据3和4写入磁盘B。 | 读写速度最快，磁盘利用率100%。但无冗余，一块盘损坏则所有数据丢失。 |
| RAID 1 | 镜像 (ミラーリング) | 数据被完全相同地写入两个磁盘，形成互为备份。例如，数据1-4同时写入磁盘A和磁盘B。 | 可靠性最高，一块盘损坏不影响数据。但磁盘利用率只有50%。 |
| RAID 5 | 带奇偶校验的条带化 | 数据分块写入，同时将奇偶校验信息也分布在各个磁盘上。 | 读写速度和数据冗余兼备，磁盘利用率高，允许一块磁盘损坏。 |

### 3.5 存储器速度与容量平衡

在整个计算机体系中，不同存储介质的速度、容量和价格各不相同。通常遵循以下规律：**距离 CPU 越近，速度越快，价格越高，容量越小。**

![存储器速度比较](Image/Memory-Speed.png)

*学习过渡：我们已经了解了计算机如何处理和存储信息，最后来看看它如何与外部世界交互。*

## 4. 输入输出 (I/O) 装置与接口

### 4.1 输入输出装置概览

* **输入装置 (入力装置)**
  * **定位设备 (ポインティングデバイス)**: 鼠标 (マウス), 触摸板 (タッチパネル)
  * **读取设备 (読取装置)**: 扫描仪 (スキャナ), OCR (光学字符识别器)
* **输出装置 (出力装置)**
  * **显示设备**: 显示器 (ディスプレイ)
  * **打印设备**: 打印机 (プリンタ)

### 4.2 显示器与打印机指标

* **显示器关键概念**
  * **分辨率 (解像度)**: 定义为屏幕上横向和纵向的像素 (点) 的数量（如1920x1080）。分辨率越高，显示的图像越清晰细腻。
  * **VRAM（显存）**: Video RAM，专门用来存储即将显示在屏幕上的图像内容的内存。
  ![VRAM](Image/VRAM.png)
* **打印机关键性能指标**
  * **DPI (Dots Per Inch)**: 每英寸可以打印的点数。DPI越高，代表打印的精度越高，文字和图像越清晰。
  * **PPM (Pages Per Minute)**: 每分钟可以打印的页数。PPM越高，代表打印的速度越快。

### 4.3 输入输出接口规范

**接口 (インターフェース)** 是连接计算机主机与外部设备（如鼠标、显示器）之间的规范或物理连接器，它定义了数据传输的规则。

| 接口类型 | 日文名称 | 传输方式 | 特点 |
| :--- | :--- | :--- | :--- |
| 串行接口 | シリアルインターフェース | 数据在一条线上逐位传输。 | 控制简单，抗干扰能力强，传输速度快，是当前的主流标准（如USB, HDMI）。 |
| 并行接口 | パラレルインターフェース | 多位数据在多条线路上同时传输。 | 曾经用于连接打印机等设备，但因控制复杂、易受干扰等问题，现已很少使用。 |

> **关键洞察**
> 现代串行接口普遍支持热插拔 (ホットプラグ)（即设备可以在开机状态下随时连接或断开）和即插即用 (プラグアンドプレイ)（即设备连接后系统能自动识别并完成配置），这极大地提升了用户的使用便利性。

最后，除了有线连接，还有**无线接口 (無線インターフェース)**，它通过电波等方式传输数据。一个常见的例子是蓝牙 (Bluetooth)，它使用2.4GHz频段的电波进行短距离通信。
